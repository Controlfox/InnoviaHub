<div class="rounded-2xl border border-border bg-bg-alt p-5">
  <h2 class="text-xl font-semibold text-heading mb-1">{{ title() }}</h2>

  <div class="text-sm opacity-70 mb-4" *ngIf="booking">
    Av: {{ booking.userId?.slice(0, 8) + "…" + booking.userId?.slice(-4) }}
  </div>

  <div *ngIf="!booking && !loading" class="text-sm text-heading/70">
    Ingen bokning vald.
  </div>
  <div *ngIf="error" class="text-sm text-error mb-3">{{ error }}</div>

  <form *ngIf="booking" [formGroup]="form" class="space-y-4">
    <div>
      <div class="text-xs uppercase tracking-wide opacity-70 mb-1">Tid</div>
      <div class="grid grid-cols-2 gap-3">
        <input
          type="date"
          formControlName="startDate"
          class="rounded-md border border-border bg-white px-3 py-2"
        />
        <input
          type="time"
          formControlName="startTime"
          class="rounded-md border border-border bg-white px-3 py-2"
        />
      </div>
      <div class="grid grid-cols-2 gap-3 mt-2">
        <input
          type="date"
          formControlName="endDate"
          class="rounded-md border border-border bg-white px-3 py-2"
        />
        <input
          type="time"
          formControlName="endTime"
          class="rounded-md border border-border bg-white px-3 py-2"
        />
      </div>
    </div>

    <div class="pt-2 flex items-center gap-4">
      <app-button
        label="Ändra"
        [buttonStyle]="'filled'"
        [borderRadius]="'br-full'"
        [bgColor]="'var(--color-primary)'"
        [textColor]="'#fff'"
        (onClick)="save()"
      ></app-button>

      <button type="button" class="text-sm" (click)="remove()">Radera</button>
    </div>
  </form>
</div>
